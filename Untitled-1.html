<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>For Amna ‚Äî A Little Hunt ‚ù§Ô∏è</title>
<style>
  :root{
    --bg: linear-gradient(135deg,#ffefe9,#fff6d6);
    --card:#ffffff;
    --accent:#ff6b6b;
    --muted:#666;
    --glass: rgba(255,255,255,0.7);
    --shadow: 0 8px 30px rgba(18,18,20,0.08);
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  html,body{height:100%}
  body{
    margin:0;
    min-height:100%;
    display:flex;
    align-items:center;
    justify-content:center;
    background:var(--bg);
    padding:28px;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  .wrap{
    width:100%;
    max-width:760px;
  }

  .card{
    background:var(--card);
    border-radius:16px;
    padding:28px;
    box-shadow:var(--shadow);
    backdrop-filter: blur(6px);
  }

  h1{margin:0 0 8px; font-size:20px; letter-spacing:0.2px}
  p.lead{margin:0 0 18px; color:var(--muted)}

  .progress{
    height:10px;
    background:linear-gradient(90deg,#ffe6e6 0%, #fff 0%);
    border-radius:999px;
    overflow:hidden;
    margin-bottom:18px;
  }
  .progress > i{
    display:block;
    height:100%;
    width:0%;
    background:linear-gradient(90deg,#ff9aa2,#ff6b6b);
    transition:width .45s ease;
  }

  .question{
    font-weight:600;
    font-size:18px;
    margin-bottom:12px;
  }

  .options{display:grid; gap:10px}
  .opt{
    border-radius:12px;
    padding:12px 14px;
    background:var(--glass);
    border:1px solid rgba(0,0,0,0.05);
    cursor:pointer;
    transition:transform .12s ease, box-shadow .12s ease;
    user-select:none;
    display:flex;
    align-items:center;
    gap:10px;
  }
  .opt:hover{transform:translateY(-4px); box-shadow: 0 8px 24px rgba(0,0,0,0.06)}
  .opt.disabled{opacity:.6; pointer-events:none}

  .feedback{
    margin-top:12px;
    min-height:44px;
    display:flex;
    align-items:center;
    gap:10px;
  }
  .msg.correct{color:green}
  .msg.wrong{color:#ff3b3b}

  .controls{display:flex; gap:10px; justify-content:flex-end; margin-top:16px}
  .btn{
    background:var(--accent);
    color:white;
    padding:10px 14px;
    border-radius:10px;
    border:0; cursor:pointer; font-weight:600;
    box-shadow: 0 8px 20px rgba(255,107,107,0.18);
  }
  .btn.ghost{background:transparent; color:var(--muted); box-shadow:none; border:1px solid rgba(0,0,0,0.06)}
  .final-love{font-size:16px; line-height:1.4}
  .heart{font-size:28px; margin-right:8px}
  .sm{font-size:13px; color:var(--muted)}
  footer{margin-top:14px; text-align:center; color:var(--muted); font-size:12px}
  @media (max-width:520px){
    .card{padding:18px}
    h1{font-size:18px}
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="app">
      <h1>For Amna The Strawberry</h1>
      <p class="lead">Correct Answers will unlock the next button</p>

      <div class="progress" aria-hidden="true"><i id="progressBar"></i></div>

      <div id="stage">
        <!-- Question area populated by JS -->
      </div>

      <div class="controls">
        <button class="btn ghost" id="restartBtn" style="display:none">Restart</button>
        <button class="btn" id="nextBtn" style="display:none">Next ‚Üí</button>
      </div>

      <footer><span class="sm">Made with effort and a lot of love ‚Äî Mustfa</span></footer>
    </div>
  </div>

<script>
/*
  Updated Scavenger Hunt (12 questions)
  - Supports single or multiple accepted answers (answer can be number or array)
  - Uses the exact final messages you provided
*/

const questions = [
  {
    q: "Is Mustfa right in front of you?",
    options: ["Yes", "No", "Maybe", "idk"],
    answer: 0,
    correctMsg: "‚úÖ Yeah look at that stupid bastard...gay mf",
    wrongMsg: "Look in front of you üëÄ"
  },
  {
    q: "Do you wanna slap him?",
    options: ["Yes", "No", "Maybe", "I don't wanna get my hands dirty"],
    answer: 0,
    correctMsg: "‚úÖ Yeahhhhhhh beat the shit outta him rn!!",
    wrongMsg: "TF do u mean!!! get up and slap him!!"
  },
  {
    q: "Slapped him already?",
    options: ["Yes", "No", "I don't wanna", "None"],
    answer: 0,
    correctMsg: "‚úÖ Yeah that's good...now hit him again!!",
    wrongMsg: "Get up and slap the shit outta him!! he broke ur trust! show him his place!"
  },
  {
    q: "What was his reaction to the slaps?",
    options: ["Happy", "Orgasmic", "Embarrassed", "Sad"],
    // Accept either embarrassed (2) or sad (3) as 'right' reactions you expect
    answer: [2,3],
    correctMsg: "‚úÖ Are u just gonna let him be sad? Slap him more? Show no mercy today!",
    wrongMsg: "Nahhhh look at him"
  },
  {
    q: "You should hug him now",
    options:["Okay", "Never", "I'll think about it", "Bleh"],
    answer: 0,
    correctMsg: "‚úÖ Awwwwwww.... NO SLAP HIM AGAIN !!!! ",
    wrongMsg: "Just press okay "
  },
  {
    q: "Now you should really hug him",
    options:["Okay", "Never", "I'll think about it", "Bleh"],
    answer: 0,
    correctMsg: "‚úÖ Awwwww hug him tight ",
    wrongMsg: "I do deserve a small hug after the slaps"
  },
  {
    q: "Will you marry me?",
    options:["hmmmmm","yessssss","big yesss","All of the above ‚úÖ"],
    // accept "All of the above" (3) as correct
    answer: [0,1,2,3],
    correctMsg: "‚úÖ YESSSS YESSSSSSSSS",
    wrongMsg: "YESSSS YESSS JUST YESSS"
  },
  {
    q: "So do you trust Mustfa now?",
    options:["Okay","Never","I'll think about it","Bleh"],
    // allow several as acceptable (0 or 2 or 3). If she picks Never, treat as wrong.
    answer: [0,2,3],
    correctMsg: "‚úÖ WDYM TRUST ... SLAP HIM AGAIN !!!",
    wrongMsg: "But you just slapped him!"
  }
 
  
];

// state
let idx = 0;
const total = questions.length;

const stage = document.getElementById('stage');
const progressBar = document.getElementById('progressBar');
const nextBtn = document.getElementById('nextBtn');
const restartBtn = document.getElementById('restartBtn');

function renderQuestion(i){
  const item = questions[i];
  progressBar.style.width = `${Math.round((i/total)*100)}%`;

  let optsHtml = item.options.map((o, j) => {
    return `<div class="opt" data-idx="${j}" role="button" tabindex="0">${escapeHtml(o)}</div>`;
  }).join('');

  stage.innerHTML = `
    <div>
      <div class="question">Clue ${i+1} of ${total} ‚Äî ${escapeHtml(item.q)}</div>
      <div class="options">${optsHtml}</div>
      <div class="feedback" id="feedback"></div>
    </div>
  `;

  // wire up options
  document.querySelectorAll('.opt').forEach(el=>{
    el.addEventListener('click', onChoose);
    el.addEventListener('keydown', (e)=>{ if(e.key === 'Enter' || e.key===' ') onChoose(e) });
  });

  nextBtn.style.display = 'none';
  restartBtn.style.display = 'none';
}

function onChoose(e){
  const target = e.currentTarget || e.target;
  const chosen = Number(target.getAttribute('data-idx'));
  const current = questions[idx];
  const fb = document.getElementById('feedback');

  // correct? support number or array answers
  let isCorrect = false;
  if (Array.isArray(current.answer)){
    isCorrect = current.answer.includes(chosen);
  } else {
    isCorrect = chosen === current.answer;
  }

  // visual feedback
  document.querySelectorAll('.opt').forEach(o=>o.classList.add('disabled'));
  target.classList.remove('disabled');

  if(isCorrect){
    fb.innerHTML = `<div class="msg correct">‚úÖ ${escapeHtml(current.correctMsg || "Correct!")}</div>`;
    // show next or final
    if(idx < total-1){
      nextBtn.style.display = 'inline-block';
      restartBtn.style.display = 'none';
    } else {
      nextBtn.style.display = 'none';
      restartBtn.style.display = 'inline-block';
    }

    if(idx === total-1){
      showFinal();
    }
  } else {
    fb.innerHTML = `<div class="msg wrong">‚ùå ${escapeHtml(current.wrongMsg || "Not quite ‚Äî try again!")}</div>`;
    // allow retry: re-enable options after brief timeout
    setTimeout(()=> {
      document.querySelectorAll('.opt').forEach(o=>o.classList.remove('disabled'));
    }, 700);
  }
}

nextBtn.addEventListener('click', ()=>{
  if(idx < total-1){
    idx++;
    renderQuestion(idx);
  }
});

restartBtn.addEventListener('click', ()=>{
  idx = 0;
  renderQuestion(idx);
});

function showFinal(){
  progressBar.style.width = `100%`;
  // Final screens with your exact apology + promise text
  const loveHTML = `
    <div style="padding:12px;border-radius:12px;background:linear-gradient(180deg,#fff7f7,#fff);">
      <div style="display:flex;align-items:flex-start;gap:12px">
        <div class="heart">‚ù§Ô∏è</div>
        <div class="final-love">
          <strong>Amna meri jaan ‚Äî</strong>
          <div style="height:8px"></div>
          <div style="margin-bottom:8px">
            i'm really sorry for how things went after the meetup... i just wanna show u that i'm sincere. i hope u slapped me multiple times ...if u haven't slap me pls..kick me ..beat the shit outta me...but just keep me close...i just wanna be yours forever....and remember this one big thing: <strong>December 2027</strong>.
          </div>

          <div style="margin-top:8px;font-weight:600">Final promise:</div>
          <div style="margin-top:8px; font-style:italic;">
            Amna meri jaan i promise to love you in all weathers and days..and i promise i will never leave you..and i promise to u that u are the only girl i love and will always love
          </div>
          <div style="margin-top:12px">‚Äî <strong>Mustfa</strong></div>
        </div>
      </div>

      <div style="margin-top:14px;text-align:center">
        <button class="btn" id="claimBtn">Claim your promise ‚ù§Ô∏è</button>
      </div>
    </div>
  `;
  stage.innerHTML = loveHTML;

  document.getElementById('claimBtn').addEventListener('click', ()=>{
    stage.innerHTML = `
      <div style="text-align:center;padding:26px">
        <div style="font-size:36px; margin-bottom:8px">üíå</div>
        <h2 style="margin:0 0 8px">Promise Claimed</h2>
        <p class="sm" style="margin:0 0 18px">You and me ‚Äî always. Now go make that cute face I love so much.</p>
        <div style="display:flex;gap:10px;justify-content:center">
          <button class="btn" id="downloadBtn">Download this message</button>
          <button class="btn ghost" id="againBtn">Play again</button>
        </div>
      </div>
    `;

    document.getElementById('againBtn').addEventListener('click', ()=>{
      idx = 0; renderQuestion(idx);
    });

    document.getElementById('downloadBtn').addEventListener('click', ()=>{
      const txt = `Amna meri jaan ‚Äî\n\nI'm really sorry for how things went after the meetup. I just wanna show u that I'm sincere. I hope u slapped me multiple times... if u haven't slap me pls..kick me ..beat the shit outta me...but just keep me close...i just wanna be yours forever.\n\nRemember this one big thing: December 2027\n\nFinal promise:\nAmna meri jaan i promise to love you in all weathers and days..and i promise i will never leave you..and i promise to u that u are the only girl i love and will always love.\n\n‚Äî Mustfa`;
      const blob = new Blob([txt], {type: 'text/plain;charset=utf-8'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'promise-for-amna.txt';
      document.body.appendChild(a); a.click();
      a.remove();
      URL.revokeObjectURL(url);
    });
  });

  restartBtn.style.display = 'inline-block';
  nextBtn.style.display = 'none';
}

// small helper
function escapeHtml(str){
  if(str === undefined || str === null) return '';
  return String(str)
    .replaceAll('&','&amp;')
    .replaceAll('<','&lt;')
    .replaceAll('>','&gt;');
}

// start
renderQuestion(idx);
</script>
</body>
</html>
